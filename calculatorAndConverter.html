<!doctype html>
<html lang="ru">
<link rel="stylesheet" type="text/css" href="list.css">
<head>
    <meta charset="utf-8">
    <title>React.js</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="libraries/react.development.js"></script>
    <script src="libraries/react-dom.development.js"></script>
    <script src="libraries/babel.min.js"></script>
    <style type="text/css">
        #wrapper {
            padding: 20px;
            text-align: center;
        }

        #root {
            width: 800px;
            margin: 0 auto;
        }
    </style>
    <script type="text/babel">

        const operations = {
            Add: '+',
            Substract: '-',
            Multiply: '*',
            Divide: '/',
            DivideWithRemainder: '%'
        }
        const scales = {
            Two: '2',
            Eight: '8',
            Sixteen: '16',
            ThirtyTwo: '32'
        }
        function Selection({ operation, onChange }) {
            return <>
                <label>
                    <select value={operation} onChange={e => onChange(e.target.value)}>
                        {Object.values(operations).map((variant, index) =>(
                            <option key={index} value={variant}>
                                {variant}
                            </option>
                        ))}
                    </select>
                </label>
            </>;
        }
        function SelectScale({ scale, onChange }) {
            return <>
                <label>
                    <select value={scale} onChange={e => onChange(e.target.value)}>
                        {Object.values(scales).map((scaleVariant, index) =>(
                            <option key={index} value={scaleVariant}>
                                {scaleVariant}
                            </option>
                        ))}
                    </select>
                </label>

            </>;
        }

        function App() {
            const [firstValue, setFirstValue] = React.useState('');
            const [secondValue, setSecondValue] = React.useState('');
            const [operation, setOperation] = React.useState('+');
            const [originalNumber, setOriginalNumber] = React.useState('');
            const [scale, setScale] = React.useState('2');

            // function addind() {
            //     setResult(Number(firstValue) + Number(secondValue));
            // }
            // function substraction() {
            //     setResult(firstValue - secondValue);
            // }
            // function multiplication() {
            //     setResult(firstValue * secondValue);
            // }
            // function division() {
            //     setResult(firstValue / secondValue);
            // }
            // function divisionWithRemainder() {
            //     setResult(firstValue % secondValue);
            // }

            //вытащено из return
            // <br/>
            // <button onClick={() => addind(firstValue, secondValue)}>+</button>
            // <button onClick={() => substraction(firstValue, secondValue)}>-</button>
            // <button onClick={() => multiplication(firstValue, secondValue)}>*</button>
            // <button onClick={() => division(firstValue, secondValue)}>/</button>
            // <button onClick={() => divisionWithRemainder(firstValue, secondValue)}>%</button>
            // <br/>


            function getResult() {
                switch (operation) {
                    case operations.Add: return Number(firstValue) + Number(secondValue);
                    case operations.Substract: return firstValue - secondValue;
                    case operations.Multiply: return firstValue * secondValue;
                    case operations.Divide: return firstValue / secondValue;
                    case operations.DivideWithRemainder: return firstValue % secondValue;
                    default: return 'error (*-_-)';
                }
            }

            function convertNumber() {
                switch (scale) {
                    case scales.Two: return Number(originalNumber).toString(2);
                    case scales.Eight: return Number(originalNumber).toString(8);
                    case scales.Sixteen: return Number(originalNumber).toString(16);
                    case scales.ThirtyTwo: return Number(originalNumber).toString(32);
                    default: return 'error (*-_-)';
                }
            }

            return <>

                Операнд 1:
                <label><input
                    type="text"
                    value={firstValue}
                    onChange={e => setFirstValue(e.target.value)}
                /></label>
                <br/>

                Операнд 2:
                <label><input
                    type="text"
                    value={secondValue}
                    onChange={e => setSecondValue(e.target.value)}
                /></label>
                <br/>

                <br/>
                Операция:
                <Selection operation={operation} onChange={v => setOperation(v)} />
                <br/>

                <br/>
                Результат:
                <label><input
                    type="text"
                    value={getResult()}
                    readOnly={true}
                /></label>
                <br/>

                <br/>

                <br/>
                Перевести
                <label><input
                    type="text"
                    value={originalNumber}
                    onChange={e => setOriginalNumber(e.target.value)}
                /></label>
                из 10 системы в
                <SelectScale scale={scale} onChange={v => setScale(v)}/>
                <br/>
                Результат:
                <label><input
                    type="text"
                    value={convertNumber()}
                    readOnly={true}
                /></label>

            </>;
        }

        ReactDOM.render(<App/>, document.getElementById('root'));
    </script>
</head>
<body>
<div id="wrapper">
    <div id="root"></div>
</div>
</body>
</html>